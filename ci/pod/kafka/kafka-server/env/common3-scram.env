ALLOW_PLAINTEXT_LISTENER=yes
KAFKA_CFG_AUTO_CREATE_TOPICS_ENABLE=false

# CORRECTED: Use SASL_PLAINTEXT protocol with SCRAM mechanism
KAFKA_CFG_LISTENERS=PLAINTEXT://0.0.0.0:29092,SASL_PLAINTEXT://0.0.0.0:29094
KAFKA_CFG_ADVERTISED_LISTENERS=PLAINTEXT://kafka-server3-scram:29092,SASL_PLAINTEXT://127.0.0.1:29094

# SCRAM-specific configuration
KAFKA_CFG_SASL_ENABLED_MECHANISMS=SCRAM-SHA-256,SCRAM-SHA-512
KAFKA_CFG_SASL_MECHANISM_INTER_BROKER_PROTOCOL=PLAINTEXT

# Security protocol for inter-broker communication (since it's a single-node cluster)
KAFKA_CFG_SECURITY_INTER_BROKER_PROTOCOL=PLAINTEXT

# Optional: Explicitly set the security protocol map
KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP=PLAINTEXT:PLAINTEXT,SASL_PLAINTEXT:SASL_PLAINTEXT

# Other configurations
KAFKA_CFG_OFFSETS_TOPIC_NUM_PARTITIONS=1
KAFKA_CFG_OFFSETS_TOPIC_REPLICATION_FACTOR=1
